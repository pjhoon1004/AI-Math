<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë”¥ëŸ¬ë‹ì€ ì–´ë–»ê²Œ í•™ìŠµí• ê¹Œ? ğŸ§ </title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0ea5e9;
            --primary-dark: #0284c7;
            --secondary: #f59e0b;
            --accent: #ec4899;
            --bg-main: #f8fafc;
            --bg-card: #ffffff;
            --bg-light: #f1f5f9;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --success: #10b981;
            --error: #ef4444;
            --shadow: rgba(0, 0, 0, 0.08);
            --border: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg-main);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Decorative background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(14, 165, 233, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(245, 158, 11, 0.02) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 0.6s ease-out;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 400;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            margin-bottom: 24px;
        }

        .content-grid.single {
            grid-template-columns: 1fr;
        }

        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 28px;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border);
            animation: fadeInUp 0.6s ease-out;
            animation-fill-mode: both;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px var(--shadow);
        }

        .card:nth-child(2) { animation-delay: 0.05s; }
        .card:nth-child(3) { animation-delay: 0.1s; }
        .card:nth-child(4) { animation-delay: 0.15s; }
        .card:nth-child(5) { animation-delay: 0.2s; }

        h2 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 800;
            color: white;
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.25);
        }

        .description {
            font-size: 0.95rem;
            line-height: 1.7;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        /* Neural Network Visualization */
        .neural-network {
            position: relative;
            height: 300px;
            background: var(--bg-light);
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .neural-network canvas {
            width: 100%;
            height: 100%;
        }

        /* Interactive Controls */
        .controls {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin: 20px 0;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .control-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .control-value {
            font-family: 'JetBrains Mono', monospace;
            color: var(--secondary);
            font-weight: 600;
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--border);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(14, 165, 233, 0.3);
            transition: transform 0.2s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.15);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(14, 165, 233, 0.3);
            border: none;
        }

        /* Button Styles */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 28px;
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.25);
            font-family: 'Noto Sans KR', sans-serif;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(14, 165, 233, 0.3);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        /* Loss Graph */
        .loss-graph {
            background: var(--bg-light);
            border-radius: 12px;
            padding: 20px;
            height: 280px;
            position: relative;
            margin: 20px 0;
            border: 1px solid var(--border);
        }

        .loss-graph canvas {
            width: 100%;
            height: 100%;
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.05), rgba(245, 158, 11, 0.05));
            border-left: 3px solid var(--secondary);
            padding: 16px;
            border-radius: 10px;
            margin: 16px 0;
            transition: all 0.3s ease;
        }

        .info-box h3 {
            color: var(--secondary);
            margin-bottom: 8px;
            font-size: 1rem;
            transition: color 0.3s ease;
        }

        .info-box p {
            line-height: 1.7;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Formula */
        .formula {
            background: var(--bg-light);
            padding: 18px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            text-align: center;
            color: var(--primary);
            margin: 16px 0;
            border: 1px solid var(--border);
            overflow-x: auto;
        }

        /* Training Steps */
        .training-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }

        .step-card {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--border);
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
        }

        .step-card:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px var(--shadow);
        }

        .step-card.active {
            border-color: var(--secondary);
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.08), rgba(14, 165, 233, 0.08));
        }

        .step-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .step-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .step-title .expand-icon {
            font-size: 0.9rem;
            transition: transform 0.3s ease;
        }

        .step-card.active .expand-icon {
            transform: rotate(180deg);
        }

        .step-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .step-detail {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            margin-top: 0;
        }

        .step-card.active .step-detail {
            max-height: 300px;
            margin-top: 16px;
        }

        .step-detail-content {
            background: rgba(255, 255, 255, 0.5);
            padding: 16px;
            border-radius: 8px;
            border-left: 3px solid var(--secondary);
        }

        .step-detail h4 {
            color: var(--secondary);
            font-size: 0.95rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .step-detail p {
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .step-detail ul {
            list-style: none;
            padding-left: 0;
            margin-top: 8px;
        }

        .step-detail li {
            font-size: 0.85rem;
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 6px;
            padding-left: 20px;
            position: relative;
        }

        .step-detail li:before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }

        /* Results Display */
        .results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }

        .result-item {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .result-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .result-value {
            font-size: 1.8rem;
            font-weight: 800;
            font-family: 'JetBrains Mono', monospace;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        .loading {
            animation: pulse 1.5s ease-in-out infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 0.9rem;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }

            .card {
                padding: 20px;
            }

            h2 {
                font-size: 1.3rem;
            }

            .neural-network {
                height: 250px;
                padding: 16px;
            }

            .training-steps {
                grid-template-columns: 1fr;
            }

            .loss-graph {
                height: 240px;
            }
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px 20px;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ë”¥ëŸ¬ë‹ì€ ì–´ë–»ê²Œ í•™ìŠµí• ê¹Œ? ğŸ§ </h1>
            <p class="subtitle">ì¸ê³µì‹ ê²½ë§ì´ ì˜¤ì°¨ë¥¼ ì¤„ì´ë©° ë˜‘ë˜‘í•´ì§€ëŠ” ê³¼ì •ì„ ì§ì ‘ ì²´í—˜í•´ë³´ì„¸ìš”</p>
        </header>

        <!-- Section 1: í•™ìŠµì˜ ê¸°ë³¸ ê°œë… -->
        <div class="content-grid single">
            <div class="card">
                <h2><span class="step-number">1</span> í•™ìŠµì˜ ê¸°ë³¸ ê°œë…</h2>
                <p class="description">
                    ë”¥ëŸ¬ë‹ì—ì„œ <strong>í•™ìŠµ</strong>ì´ë€ <strong>ì˜¤ì°¨ë¥¼ ì¤„ì´ëŠ” ê·œì¹™</strong>ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤. 
                    ì˜¤ì°¨ëŠ” ì‹¤ì œê°’ê³¼ ì˜ˆì¸¡ê°’ì˜ ì°¨ì´ë¥¼ ì˜ë¯¸í•˜ë©°, ì¸ê³µì‹ ê²½ë§ì€ ë°˜ë³µì ìœ¼ë¡œ ì˜ˆì¸¡í•˜ê³  ì˜¤ì°¨ë¥¼ ê³„ì‚°í•˜ë©° ê°€ì¤‘ì¹˜ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤.
                </p>

                <div class="results">
                    <div class="result-item">
                        <div class="result-label">ì‹¤ì œê°’</div>
                        <div class="result-value" id="actual-value">80</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">ì˜ˆì¸¡ê°’</div>
                        <div class="result-value" id="predicted-value">60</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">ì˜¤ì°¨</div>
                        <div class="result-value" id="error-value" style="color: var(--error);">20</div>
                    </div>
                </div>

                <div class="info-box">
                    <h3>ğŸ’¡ í•µì‹¬ ê°œë…</h3>
                    <p>
                        <strong>ì˜¤ì°¨(Error)</strong> = ì‹¤ì œê°’(y) - ì˜ˆì¸¡ê°’(Å·) | 
                        í•™ìŠµì˜ ëª©í‘œëŠ” ì´ ì˜¤ì°¨ë¥¼ ìµœì†Œí™”í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </div>

        <!-- Section 2: í•™ìŠµ ê³¼ì • -->
        <div class="content-grid single">
            <div class="card">
                <h2><span class="step-number">2</span> ë”¥ëŸ¬ë‹ì˜ 3ë‹¨ê³„ í•™ìŠµ ê³¼ì •</h2>
                <p class="description">
                    ë”¥ëŸ¬ë‹ì€ ë‹¤ìŒ 3ë‹¨ê³„ë¥¼ ë°˜ë³µí•˜ë©° í•™ìŠµí•©ë‹ˆë‹¤. ê° ë‹¨ê³„ë¥¼ í´ë¦­í•˜ì—¬ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”!
                </p>

                <div class="training-steps">
                    <div class="step-card" onclick="highlightStep(0)">
                        <div class="step-icon">â¡ï¸</div>
                        <div class="step-title">
                            <span>â‘  ìˆœì „íŒŒ</span>
                            <span class="expand-icon">â–¼</span>
                        </div>
                        <div class="step-desc">
                            ì…ë ¥ì¸µ â†’ ì€ë‹‰ì¸µ â†’ ì¶œë ¥ì¸µ ë°©í–¥ìœ¼ë¡œ ë°ì´í„°ê°€ ì „ë‹¬ë˜ë©° ì˜ˆì¸¡ê°’ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
                        </div>
                        <div class="step-detail">
                            <div class="step-detail-content">
                                <h4>ğŸ“ ìƒì„¸ ì„¤ëª…</h4>
                                <p>ìˆœì „íŒŒ(Forward Propagation)ëŠ” ì‹ ê²½ë§ì´ ì˜ˆì¸¡ì„ ìˆ˜í–‰í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.</p>
                                <ul>
                                    <li>ì…ë ¥ ë°ì´í„°ê°€ ì…ë ¥ì¸µìœ¼ë¡œ ë“¤ì–´ì˜µë‹ˆë‹¤</li>
                                    <li>ê° ì¸µì—ì„œ ê°€ì¤‘ì¹˜ì™€ ê³±ì…ˆ í›„ í™œì„±í•¨ìˆ˜ë¥¼ í†µê³¼í•©ë‹ˆë‹¤</li>
                                    <li>ìµœì¢…ì ìœ¼ë¡œ ì¶œë ¥ì¸µì—ì„œ ì˜ˆì¸¡ê°’ì´ ë‚˜ì˜µë‹ˆë‹¤</li>
                                    <li>ì˜ˆ: y = f(Wâ‚‚ Ã— f(Wâ‚ Ã— x + bâ‚) + bâ‚‚)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="step-card" onclick="highlightStep(1)">
                        <div class="step-icon">ğŸ“Š</div>
                        <div class="step-title">
                            <span>â‘¡ ì†ì‹¤ ê³„ì‚°</span>
                            <span class="expand-icon">â–¼</span>
                        </div>
                        <div class="step-desc">
                            ì†ì‹¤í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œê°’ê³¼ ì˜ˆì¸¡ê°’ì˜ ì°¨ì´(ì˜¤ì°¨)ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
                        </div>
                        <div class="step-detail">
                            <div class="step-detail-content">
                                <h4>ğŸ“ ìƒì„¸ ì„¤ëª…</h4>
                                <p>ì†ì‹¤ ê³„ì‚°ì€ ëª¨ë¸ì˜ ì˜ˆì¸¡ì´ ì–¼ë§ˆë‚˜ ì •í™•í•œì§€ í‰ê°€í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.</p>
                                <ul>
                                    <li>ìˆœì „íŒŒë¡œ ì–»ì€ ì˜ˆì¸¡ê°’ê³¼ ì‹¤ì œê°’ì„ ë¹„êµí•©ë‹ˆë‹¤</li>
                                    <li>ì†ì‹¤í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ì˜¤ì°¨ë¥¼ ìˆ˜ì¹˜í™”í•©ë‹ˆë‹¤</li>
                                    <li>íšŒê·€: MSE = (1/n)Î£(y - Å·)Â²</li>
                                    <li>ë¶„ë¥˜: Cross-Entropy Loss</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="step-card" onclick="highlightStep(2)">
                        <div class="step-icon">â¬…ï¸</div>
                        <div class="step-title">
                            <span>â‘¢ ì—­ì „íŒŒ & ìµœì í™”</span>
                            <span class="expand-icon">â–¼</span>
                        </div>
                        <div class="step-desc">
                            ì˜¤ì°¨ë¥¼ ì¤„ì´ëŠ” ë°©í–¥ìœ¼ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
                        </div>
                        <div class="step-detail">
                            <div class="step-detail-content">
                                <h4>ğŸ“ ìƒì„¸ ì„¤ëª…</h4>
                                <p>ì—­ì „íŒŒ(Backpropagation)ëŠ” ì˜¤ì°¨ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ì¡°ì •í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.</p>
                                <ul>
                                    <li>ì¶œë ¥ì¸µì—ì„œ ì…ë ¥ì¸µìœ¼ë¡œ ì˜¤ì°¨ë¥¼ ì—­ìœ¼ë¡œ ì „íŒŒí•©ë‹ˆë‹¤</li>
                                    <li>ê²½ì‚¬í•˜ê°•ë²•ìœ¼ë¡œ ì†ì‹¤ì„ ìµœì†Œí™”í•˜ëŠ” ë°©í–¥ì„ ì°¾ìŠµë‹ˆë‹¤</li>
                                    <li>í•™ìŠµë¥ ì„ ê³±í•´ ê°€ì¤‘ì¹˜ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤</li>
                                    <li>W_new = W_old - learning_rate Ã— âˆ‚Loss/âˆ‚W</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <h3>ğŸ”„ ë°˜ë³µ í•™ìŠµ</h3>
                    <p>
                        ì´ 3ë‹¨ê³„ë¥¼ ìˆ˜ì‹­~ìˆ˜ë§Œ ë²ˆ ë°˜ë³µí•˜ë©´ì„œ ì˜¤ì°¨ê°€ ì¶©ë¶„íˆ ì‘ì•„ì§ˆ ë•Œê¹Œì§€ ê³„ì† í•™ìŠµí•©ë‹ˆë‹¤. ê° ë°˜ë³µì„ <strong>"ì—í¬í¬(Epoch)"</strong>ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </div>

        <!-- Section 3 & 4: ì†ì‹¤í•¨ìˆ˜ì™€ ìµœì í™” -->
        <div class="content-grid">
            <!-- Section 3: ì†ì‹¤í•¨ìˆ˜ -->
            <div class="card">
                <h2><span class="step-number">3</span> ì†ì‹¤í•¨ìˆ˜</h2>
                <p class="description">
                    ì†ì‹¤í•¨ìˆ˜ëŠ” ì˜¤ì°¨ì˜ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. 
                    íšŒê·€ì—ì„œëŠ” <strong>í‰ê· ì œê³±ì˜¤ì°¨(MSE)</strong>ë¥¼, ë¶„ë¥˜ì—ì„œëŠ” <strong>í¬ë¡œìŠ¤ ì—”íŠ¸ë¡œí”¼</strong>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
                </p>

                <div class="formula">
                    MSE = (1/n) Ã— Î£(ì‹¤ì œê°’ - ì˜ˆì¸¡ê°’)Â²
                </div>

                <div class="controls">
                    <div class="control-group">
                        <div class="control-label">
                            <span>ì˜ˆì¸¡ê°’ ì¡°ì ˆ</span>
                            <span class="control-value" id="pred-slider-value">60</span>
                        </div>
                        <input type="range" id="pred-slider" min="0" max="100" value="60" oninput="updatePrediction()">
                    </div>
                </div>

                <div class="results">
                    <div class="result-item">
                        <div class="result-label">ì‹¤ì œê°’</div>
                        <div class="result-value">80</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">ì˜ˆì¸¡ê°’</div>
                        <div class="result-value" id="current-pred">60</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">ì†ì‹¤</div>
                        <div class="result-value" id="current-loss" style="color: var(--error);">400</div>
                    </div>
                </div>

                <div class="loss-graph">
                    <canvas id="lossCanvas"></canvas>
                </div>
            </div>

            <!-- Section 4: ìµœì í™” ì•Œê³ ë¦¬ì¦˜ -->
            <div class="card">
                <h2><span class="step-number">4</span> ìµœì í™” ì•Œê³ ë¦¬ì¦˜</h2>
                <p class="description">
                    ìµœì í™” ì•Œê³ ë¦¬ì¦˜ì€ ì˜¤ì°¨ë¥¼ ì¤„ì´ëŠ” ë°©í–¥ìœ¼ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
                </p>

                <div class="formula">
                    ìƒˆ ê°€ì¤‘ì¹˜ = í˜„ì¬ ê°€ì¤‘ì¹˜ + ë³€ê²½ê°’
                </div>

                <div class="controls">
                    <div class="control-group">
                        <div class="control-label">
                            <span>í•™ìŠµë¥  (Learning Rate)</span>
                            <span class="control-value" id="lr-value">0.01</span>
                        </div>
                        <input type="range" id="lr-slider" min="1" max="100" value="1" oninput="updateLearningRate()">
                    </div>
                </div>

                <div class="info-box" id="lr-info-box">
                    <h3>âš ï¸ í•™ìŠµë¥ ì˜ ì¤‘ìš”ì„±</h3>
                    <p id="lr-description">
                        <strong>ë„ˆë¬´ í¬ë©´</strong>: ìµœì  ê°€ì¤‘ì¹˜ë¥¼ ì§€ë‚˜ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
                        <strong>ë„ˆë¬´ ì‘ìœ¼ë©´</strong>: í•™ìŠµ ì†ë„ê°€ ëŠë¦½ë‹ˆë‹¤<br><br>
                        ìŠ¬ë¼ì´ë”ë¥¼ ì›€ì§ì—¬ ì‹ ê²½ë§ì˜ ë³€í™”ë¥¼ í™•ì¸í•˜ì„¸ìš”!
                    </p>
                </div>

                <div class="neural-network">
                    <canvas id="networkCanvas"></canvas>
                </div>
            </div>
        </div>

        <!-- Section 5: ì‹¤ì‹œê°„ í•™ìŠµ ì‹œë®¬ë ˆì´ì…˜ -->
        <div class="content-grid single">
            <div class="card">
                <h2><span class="step-number">5</span> ì‹¤ì‹œê°„ í•™ìŠµ ì‹œë®¬ë ˆì´ì…˜</h2>
                <p class="description">
                    ì‹¤ì œë¡œ ì‹ ê²½ë§ì´ í•™ìŠµí•˜ëŠ” ê³¼ì •ì„ ì‹œë®¬ë ˆì´ì…˜í•´ë´…ì‹œë‹¤! ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í•™ìŠµì„ ì‹œì‘í•˜ê³ , ì˜¤ì°¨ê°€ ì ì  ì¤„ì–´ë“œëŠ” ê²ƒì„ í™•ì¸í•˜ì„¸ìš”.
                </p>

                <div class="btn-group">
                    <button class="btn-primary" onclick="startTraining()">ğŸš€ í•™ìŠµ ì‹œì‘</button>
                    <button class="btn-primary" onclick="resetTraining()">ğŸ”„ ì´ˆê¸°í™”</button>
                </div>

                <div class="results" style="margin-top: 24px;">
                    <div class="result-item">
                        <div class="result-label">ì—í¬í¬</div>
                        <div class="result-value" id="epoch">0</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">í˜„ì¬ ì†ì‹¤</div>
                        <div class="result-value" id="train-loss">0</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">ì •í™•ë„</div>
                        <div class="result-value" id="accuracy" style="color: var(--success);">0%</div>
                    </div>
                </div>

                <div class="loss-graph">
                    <canvas id="trainingCanvas"></canvas>
                </div>

                <div class="info-box">
                    <h3>ğŸ¯ í•™ìŠµ ìƒíƒœ</h3>
                    <p id="training-result">
                        í•™ìŠµì„ ì‹œì‘í•˜ë ¤ë©´ ìœ„ì˜ "í•™ìŠµ ì‹œì‘" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.
                    </p>
                </div>
            </div>
        </div>

        <footer>
            <p>Â© 2025 ë”¥ëŸ¬ë‹ í•™ìŠµ ì‹œê°í™” ë„êµ¬ | êµìœ¡ìš© ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤</p>
        </footer>
    </div>

    <script>
        // Global variables
        let isTraining = false;
        let epoch = 0;
        let currentLoss = 400;
        let trainingHistory = [];
        let maxEpochs = 100;
        let learningRate = 0.01;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeLossGraph();
            initializeNetworkVisualization();
            initializeTrainingGraph();
        });

        // Step highlighting with toggle
        function highlightStep(index) {
            const steps = document.querySelectorAll('.step-card');
            const clickedStep = steps[index];
            
            // Toggle the clicked step
            if (clickedStep.classList.contains('active')) {
                clickedStep.classList.remove('active');
            } else {
                // Remove active from all steps
                steps.forEach(step => step.classList.remove('active'));
                // Add active to clicked step
                clickedStep.classList.add('active');
            }
        }

        // Update prediction
        function updatePrediction() {
            const slider = document.getElementById('pred-slider');
            const value = parseInt(slider.value);
            const actualValue = 80;
            const loss = Math.pow(actualValue - value, 2);

            document.getElementById('pred-slider-value').textContent = value;
            document.getElementById('current-pred').textContent = value;
            document.getElementById('current-loss').textContent = loss.toFixed(0);
            document.getElementById('predicted-value').textContent = value;
            document.getElementById('error-value').textContent = Math.abs(actualValue - value);

            updateLossGraph(value);
        }

        // Update learning rate
        function updateLearningRate() {
            const slider = document.getElementById('lr-slider');
            const value = slider.value / 100;
            learningRate = value;
            document.getElementById('lr-value').textContent = value.toFixed(2);
            
            // Update info box based on learning rate
            const infoBox = document.getElementById('lr-info-box');
            const description = document.getElementById('lr-description');
            
            if (value < 0.3) {
                infoBox.style.borderLeftColor = '#10b981';
                description.innerHTML = `
                    <strong>ğŸ¢ ëŠë¦° í•™ìŠµ (${value.toFixed(2)})</strong><br>
                    í˜„ì¬ í•™ìŠµë¥ ì´ ë‚®ìŠµë‹ˆë‹¤. í•™ìŠµì´ ì•ˆì •ì ì´ì§€ë§Œ ì†ë„ê°€ ëŠë¦½ë‹ˆë‹¤.<br>
                    â€¢ ì¥ì : ì•ˆì •ì ì´ê³  ì •í™•í•œ í•™ìŠµ<br>
                    â€¢ ë‹¨ì : ìµœì ê°’ì— ë„ë‹¬í•˜ëŠ” ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¼
                `;
            } else if (value < 0.7) {
                infoBox.style.borderLeftColor = '#f59e0b';
                description.innerHTML = `
                    <strong>âœ… ì ì • í•™ìŠµ (${value.toFixed(2)})</strong><br>
                    í˜„ì¬ í•™ìŠµë¥ ì´ ì ì ˆí•©ë‹ˆë‹¤! ì•ˆì •ì„±ê³¼ ì†ë„ì˜ ê· í˜•ì´ ì¢‹ìŠµë‹ˆë‹¤.<br>
                    â€¢ ì¥ì : ë¹ ë¥´ë©´ì„œë„ ì•ˆì •ì ì¸ í•™ìŠµ<br>
                    â€¢ ì¶”ì²œ: ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì´ ë²”ìœ„ê°€ ì¢‹ìŠµë‹ˆë‹¤
                `;
            } else {
                infoBox.style.borderLeftColor = '#ef4444';
                description.innerHTML = `
                    <strong>ğŸš€ ë¹ ë¥¸ í•™ìŠµ (${value.toFixed(2)})</strong><br>
                    í˜„ì¬ í•™ìŠµë¥ ì´ ë†’ìŠµë‹ˆë‹¤. í•™ìŠµì´ ë¹ ë¥´ì§€ë§Œ ë¶ˆì•ˆì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                    â€¢ ì¥ì : ë¹ ë¥¸ í•™ìŠµ ì†ë„<br>
                    â€¢ ë‹¨ì : ìµœì ê°’ì„ ì§€ë‚˜ì¹˜ê±°ë‚˜ ë°œì‚°í•  ìœ„í—˜
                `;
            }
            
            // Re-draw network with updated learning rate
            const canvas = document.getElementById('networkCanvas');
            const ctx = canvas.getContext('2d');
            drawNetwork(ctx, canvas.width, canvas.height, learningRate);
        }

        // Loss graph visualization
        function initializeLossGraph() {
            updateLossGraph(60);
        }

        function updateLossGraph(predValue) {
            const canvas = document.getElementById('lossCanvas');
            const ctx = canvas.getContext('2d');
            const actualValue = 80;
            
            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            const width = canvas.width;
            const height = canvas.height;
            const padding = 40;
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Draw axes
            ctx.strokeStyle = '#94a3b8';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.lineTo(width - padding, padding);
            ctx.stroke();
            
            // Draw labels
            ctx.fillStyle = '#475569';
            ctx.font = '13px "Noto Sans KR"';
            ctx.fillText('ì˜ˆì¸¡ê°’', width - padding - 50, height - 10);
            ctx.save();
            ctx.translate(15, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('ì†ì‹¤ (MSE)', -30, 0);
            ctx.restore();
            
            // Draw loss curve
            ctx.strokeStyle = '#0ea5e9';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            const xScale = (width - 2 * padding) / 100;
            const yScale = (height - 2 * padding) / 6400; // max loss = 80^2
            
            for (let x = 0; x <= 100; x += 2) {
                const loss = Math.pow(actualValue - x, 2);
                const canvasX = padding + x * xScale;
                const canvasY = height - padding - loss * yScale;
                
                if (x === 0) {
                    ctx.moveTo(canvasX, canvasY);
                } else {
                    ctx.lineTo(canvasX, canvasY);
                }
            }
            ctx.stroke();
            
            // Draw current point
            const currentLoss = Math.pow(actualValue - predValue, 2);
            const currentX = padding + predValue * xScale;
            const currentY = height - padding - currentLoss * yScale;
            
            ctx.fillStyle = '#f59e0b';
            ctx.beginPath();
            ctx.arc(currentX, currentY, 7, 0, 2 * Math.PI);
            ctx.fill();
            
            // Draw actual value line
            const actualX = padding + actualValue * xScale;
            ctx.strokeStyle = '#10b981';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(actualX, padding);
            ctx.lineTo(actualX, height - padding);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Label for actual value
            ctx.fillStyle = '#10b981';
            ctx.fillText('ì‹¤ì œê°’: 80', actualX - 40, padding - 10);
        }

        // Network visualization
        function initializeNetworkVisualization() {
            const canvas = document.getElementById('networkCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            drawNetwork(ctx, canvas.width, canvas.height, 0.01);
        }

        function drawNetwork(ctx, width, height, lr = 0.01) {
            ctx.clearRect(0, 0, width, height);
            
            const layers = [2, 3, 3, 1]; // 2 inputs, 2 hidden layers with 3 nodes each, 1 output
            const nodeRadius = 18;
            const layerSpacing = width / (layers.length + 1);
            
            // Calculate positions
            const positions = [];
            layers.forEach((nodeCount, layerIndex) => {
                const layerPositions = [];
                const verticalSpacing = height / (nodeCount + 1);
                
                for (let i = 0; i < nodeCount; i++) {
                    layerPositions.push({
                        x: layerSpacing * (layerIndex + 1),
                        y: verticalSpacing * (i + 1)
                    });
                }
                positions.push(layerPositions);
            });
            
            // Draw connections - thickness and opacity based on learning rate
            const baseOpacity = 0.2;
            const maxOpacity = 0.7;
            const opacity = baseOpacity + (maxOpacity - baseOpacity) * lr;
            
            const baseLineWidth = 1;
            const maxLineWidth = 4;
            const lineWidth = baseLineWidth + (maxLineWidth - baseLineWidth) * lr;
            
            ctx.strokeStyle = `rgba(14, 165, 233, ${opacity})`;
            ctx.lineWidth = lineWidth;
            
            for (let i = 0; i < positions.length - 1; i++) {
                for (let j = 0; j < positions[i].length; j++) {
                    for (let k = 0; k < positions[i + 1].length; k++) {
                        ctx.beginPath();
                        ctx.moveTo(positions[i][j].x, positions[i][j].y);
                        ctx.lineTo(positions[i + 1][k].x, positions[i + 1][k].y);
                        ctx.stroke();
                    }
                }
            }
            
            // Draw nodes - size and color intensity based on learning rate
            const baseNodeRadius = 15;
            const maxNodeRadius = 20;
            const nodeSize = baseNodeRadius + (maxNodeRadius - baseNodeRadius) * lr;
            
            positions.forEach((layer, layerIndex) => {
                layer.forEach(pos => {
                    // Node circle with gradient
                    const gradient = ctx.createRadialGradient(pos.x, pos.y, 0, pos.x, pos.y, nodeSize);
                    
                    // Color intensity based on learning rate
                    const lightColor = `rgba(14, 165, 233, ${0.7 + lr * 0.3})`;
                    const darkColor = `rgba(2, 132, 199, ${0.8 + lr * 0.2})`;
                    
                    gradient.addColorStop(0, lightColor);
                    gradient.addColorStop(1, darkColor);
                    
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.arc(pos.x, pos.y, nodeSize, 0, 2 * Math.PI);
                    ctx.fill();
                    
                    // Node border - thicker with higher learning rate
                    ctx.strokeStyle = '#ffffff';
                    ctx.lineWidth = 1.5 + lr * 1.5;
                    ctx.stroke();
                    
                    // Add glow effect for high learning rates
                    if (lr > 0.5) {
                        ctx.shadowBlur = 10 * lr;
                        ctx.shadowColor = 'rgba(14, 165, 233, 0.5)';
                        ctx.beginPath();
                        ctx.arc(pos.x, pos.y, nodeSize, 0, 2 * Math.PI);
                        ctx.stroke();
                        ctx.shadowBlur = 0;
                    }
                });
            });
            
            // Labels
            ctx.fillStyle = '#475569';
            ctx.font = 'bold 12px "Noto Sans KR"';
            ctx.textAlign = 'center';
            
            ctx.fillText('ì…ë ¥ì¸µ', layerSpacing, height - 15);
            ctx.fillText('ì€ë‹‰ì¸µ1', layerSpacing * 2, height - 15);
            ctx.fillText('ì€ë‹‰ì¸µ2', layerSpacing * 3, height - 15);
            ctx.fillText('ì¶œë ¥ì¸µ', layerSpacing * 4, height - 15);
            
            // Add learning rate indicator
            ctx.fillStyle = lr < 0.3 ? '#10b981' : (lr < 0.7 ? '#f59e0b' : '#ef4444');
            ctx.font = 'bold 14px "Noto Sans KR"';
            ctx.textAlign = 'right';
            const statusText = lr < 0.3 ? 'ëŠë¦° í•™ìŠµ' : (lr < 0.7 ? 'ì ì • í•™ìŠµ' : 'ë¹ ë¥¸ í•™ìŠµ');
            ctx.fillText(statusText, width - 20, 30);
        }

        // Training simulation
        function initializeTrainingGraph() {
            trainingHistory = [];
            drawTrainingGraph();
        }

        function drawTrainingGraph() {
            const canvas = document.getElementById('trainingCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            const width = canvas.width;
            const height = canvas.height;
            const padding = 50;
            
            ctx.clearRect(0, 0, width, height);
            
            // Draw axes
            ctx.strokeStyle = '#94a3b8';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.lineTo(width - padding, padding);
            ctx.stroke();
            
            // Draw labels
            ctx.fillStyle = '#475569';
            ctx.font = '13px "Noto Sans KR"';
            ctx.fillText('ì—í¬í¬', width - padding - 50, height - 10);
            ctx.save();
            ctx.translate(15, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('ì†ì‹¤', -20, 0);
            ctx.restore();
            
            if (trainingHistory.length < 2) return;
            
            // Draw loss curve
            const xScale = (width - 2 * padding) / maxEpochs;
            const maxLoss = Math.max(...trainingHistory);
            const yScale = (height - 2 * padding) / maxLoss;
            
            ctx.strokeStyle = '#f59e0b';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            trainingHistory.forEach((loss, index) => {
                const x = padding + index * xScale;
                const y = height - padding - loss * yScale;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // Draw current point
            if (trainingHistory.length > 0) {
                const lastIndex = trainingHistory.length - 1;
                const lastX = padding + lastIndex * xScale;
                const lastY = height - padding - trainingHistory[lastIndex] * yScale;
                
                ctx.fillStyle = '#ec4899';
                ctx.beginPath();
                ctx.arc(lastX, lastY, 6, 0, 2 * Math.PI);
                ctx.fill();
            }
        }

        async function startTraining() {
            if (isTraining) return;
            
            isTraining = true;
            epoch = 0;
            trainingHistory = [400]; // Initial loss
            
            document.getElementById('training-result').innerHTML = 'í•™ìŠµ ì¤‘ì…ë‹ˆë‹¤... â³';
            
            while (epoch < maxEpochs && isTraining) {
                // Simulate training
                epoch++;
                
                // Exponential decay of loss
                currentLoss = 400 * Math.exp(-0.05 * epoch) + Math.random() * 10;
                trainingHistory.push(currentLoss);
                
                // Update UI
                document.getElementById('epoch').textContent = epoch;
                document.getElementById('train-loss').textContent = currentLoss.toFixed(2);
                
                const accuracy = Math.min(100, 100 * (1 - currentLoss / 400));
                document.getElementById('accuracy').textContent = accuracy.toFixed(1) + '%';
                
                drawTrainingGraph();
                
                // Slow down animation
                await new Promise(resolve => setTimeout(resolve, 50));
            }
            
            isTraining = false;
            
            const finalAccuracy = Math.min(100, 100 * (1 - currentLoss / 400));
            document.getElementById('training-result').innerHTML = `
                í•™ìŠµì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰<br>
                ìµœì¢… ì†ì‹¤: <strong>${currentLoss.toFixed(2)}</strong><br>
                ìµœì¢… ì •í™•ë„: <strong>${finalAccuracy.toFixed(1)}%</strong><br><br>
                ì˜¤ì°¨ê°€ ì²˜ìŒ <strong>400</strong>ì—ì„œ <strong>${currentLoss.toFixed(2)}</strong>ë¡œ ì¤„ì–´ë“¤ì—ˆìŠµë‹ˆë‹¤!
            `;
        }

        function resetTraining() {
            isTraining = false;
            epoch = 0;
            currentLoss = 400;
            trainingHistory = [];
            
            document.getElementById('epoch').textContent = '0';
            document.getElementById('train-loss').textContent = '0';
            document.getElementById('accuracy').textContent = '0%';
            document.getElementById('training-result').innerHTML = 'í•™ìŠµì„ ì‹œì‘í•˜ë ¤ë©´ ìœ„ì˜ "í•™ìŠµ ì‹œì‘" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.';
            
            initializeTrainingGraph();
        }

        // Handle window resize
        window.addEventListener('resize', function() {
            if (document.getElementById('lossCanvas')) {
                const predValue = parseInt(document.getElementById('pred-slider').value);
                updateLossGraph(predValue);
            }
            if (document.getElementById('networkCanvas')) {
                const canvas = document.getElementById('networkCanvas');
                const ctx = canvas.getContext('2d');
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
                drawNetwork(ctx, canvas.width, canvas.height, learningRate);
            }
            if (document.getElementById('trainingCanvas')) {
                drawTrainingGraph();
            }
        });
    </script>
</body>
</html>
